646a647
> am__quote
725,726c726
< SHELL
< am__quote'
---
> SHELL'
2140c2140
< am__api_version='1.16'
---
> am__api_version='1.15'
2656,2657c2656,2657
< # <https://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>
< # <https://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>
---
> # <http://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>
> # <http://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>
2708c2708
< that behaves properly: <https://www.gnu.org/software/coreutils/>.
---
> that behaves properly: <http://www.gnu.org/software/coreutils/>.
3610,3612c3610,3612
< { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} supports the include directive" >&5
< $as_echo_n "checking whether ${MAKE-make} supports the include directive... " >&6; }
< cat > confinc.mk << 'END'
---
> 
> am_make=${MAKE-make}
> cat > confinc << 'END'
3614c3614
< 	@echo this is the am__doit target >confinc.out
---
> 	@echo this is the am__doit target
3616a3617,3619
> # If we don't find an include directive, just comment out the code.
> { $as_echo "$as_me:${as_lineno-$LINENO}: checking for style of include used by $am_make" >&5
> $as_echo_n "checking for style of include used by $am_make... " >&6; }
3619,3639c3622,3631
< # BSD make does it like this.
< echo '.include "confinc.mk" # ignored' > confmf.BSD
< # Other make implementations (GNU, Solaris 10, AIX) do it like this.
< echo 'include confinc.mk # ignored' > confmf.GNU
< _am_result=no
< for s in GNU BSD; do
<   { echo "$as_me:$LINENO: ${MAKE-make} -f confmf.$s && cat confinc.out" >&5
<    (${MAKE-make} -f confmf.$s && cat confinc.out) >&5 2>&5
<    ac_status=$?
<    echo "$as_me:$LINENO: \$? = $ac_status" >&5
<    (exit $ac_status); }
<   case $?:`cat confinc.out 2>/dev/null` in #(
<   '0:this is the am__doit target') :
<     case $s in #(
<   BSD) :
<     am__include='.include' am__quote='"' ;; #(
<   *) :
<     am__include='include' am__quote='' ;;
< esac ;; #(
<   *) :
<      ;;
---
> _am_result=none
> # First try GNU make style include.
> echo "include confinc" > confmf
> # Ignore all kinds of additional output from 'make'.
> case `$am_make -s -f confmf 2> /dev/null` in #(
> *the\ am__doit\ target*)
>   am__include=include
>   am__quote=
>   _am_result=GNU
>   ;;
3641,3648c3633,3648
<   if test "$am__include" != "#"; then
<     _am_result="yes ($s style)"
<     break
<   fi
< done
< rm -f confinc.* confmf.*
< { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${_am_result}" >&5
< $as_echo "${_am_result}" >&6; }
---
> # Now try BSD make style include.
> if test "$am__include" = "#"; then
>    echo '.include "confinc"' > confmf
>    case `$am_make -s -f confmf 2> /dev/null` in #(
>    *the\ am__doit\ target*)
>      am__include=.include
>      am__quote="\""
>      _am_result=BSD
>      ;;
>    esac
> fi
> 
> 
> { $as_echo "$as_me:${as_lineno-$LINENO}: result: $_am_result" >&5
> $as_echo "$_am_result" >&6; }
> rm -f confinc confmf
5188c5188
< AMDEP_TRUE="$AMDEP_TRUE" MAKE="${MAKE-make}"
---
> AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"
5634,5643c5634,5637
<   # TODO: see whether this extra hack can be removed once we start
<   # requiring Autoconf 2.70 or later.
<   case $CONFIG_FILES in #(
<   *\'*) :
<     eval set x "$CONFIG_FILES" ;; #(
<   *) :
<     set x $CONFIG_FILES ;; #(
<   *) :
<      ;;
< esac
---
>   case $CONFIG_FILES in
>   *\'*) eval set x "$CONFIG_FILES" ;;
>   *)   set x $CONFIG_FILES ;;
>   esac
5645,5647c5639
<   # Used to flag and report bootstrapping failures.
<   am_rc=0
<   for am_mf
---
>   for mf
5650,5653c5642,5648
<     am_mf=`$as_echo "$am_mf" | sed -e 's/:.*$//'`
<     # Check whether this is an Automake generated Makefile which includes
<     # dependency-tracking related rules and includes.
<     # Grep'ing the whole file directly is not great: AIX grep has a line
---
>     mf=`echo "$mf" | sed -e 's/:.*$//'`
>     # Check whether this is an Automake generated Makefile or not.
>     # We used to match only the files named 'Makefile.in', but
>     # some people rename them; so instead we look at the file content.
>     # Grep'ing the first line is not enough: some people post-process
>     # each Makefile.in and add a new line on top of each file to say so.
>     # Grep'ing the whole file is not good either: AIX grep has a line
5655,5662c5650,5656
<     sed -n 's,^am--depfiles:.*,X,p' "$am_mf" | grep X >/dev/null 2>&1 \
<       || continue
<     am_dirpart=`$as_dirname -- "$am_mf" ||
< $as_expr X"$am_mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
< 	 X"$am_mf" : 'X\(//\)[^/]' \| \
< 	 X"$am_mf" : 'X\(//\)$' \| \
< 	 X"$am_mf" : 'X\(/\)' \| . 2>/dev/null ||
< $as_echo X"$am_mf" |
---
>     if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
>       dirpart=`$as_dirname -- "$mf" ||
> $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
> 	 X"$mf" : 'X\(//\)[^/]' \| \
> 	 X"$mf" : 'X\(//\)$' \| \
> 	 X"$mf" : 'X\(/\)' \| . 2>/dev/null ||
> $as_echo X"$mf" |
5680,5685c5674,5699
<     am_filepart=`$as_basename -- "$am_mf" ||
< $as_expr X/"$am_mf" : '.*/\([^/][^/]*\)/*$' \| \
< 	 X"$am_mf" : 'X\(//\)$' \| \
< 	 X"$am_mf" : 'X\(/\)' \| . 2>/dev/null ||
< $as_echo X/"$am_mf" |
<     sed '/^.*\/\([^/][^/]*\)\/*$/{
---
>     else
>       continue
>     fi
>     # Extract the definition of DEPDIR, am__include, and am__quote
>     # from the Makefile without running 'make'.
>     DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
>     test -z "$DEPDIR" && continue
>     am__include=`sed -n 's/^am__include = //p' < "$mf"`
>     test -z "$am__include" && continue
>     am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
>     # Find all dependency output files, they are included files with
>     # $(DEPDIR) in their names.  We invoke sed twice because it is the
>     # simplest approach to changing $(DEPDIR) to its actual value in the
>     # expansion.
>     for file in `sed -n "
>       s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
> 	 sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g'`; do
>       # Make sure the directory exists.
>       test -f "$dirpart/$file" && continue
>       fdir=`$as_dirname -- "$file" ||
> $as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
> 	 X"$file" : 'X\(//\)[^/]' \| \
> 	 X"$file" : 'X\(//\)$' \| \
> 	 X"$file" : 'X\(/\)' \| . 2>/dev/null ||
> $as_echo X"$file" |
>     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
5689c5703
< 	  /^X\/\(\/\/\)$/{
---
> 	  /^X\(\/\/\)[^/].*/{
5693c5707,5711
< 	  /^X\/\(\/\).*/{
---
> 	  /^X\(\/\/\)$/{
> 	    s//\1/
> 	    q
> 	  }
> 	  /^X\(\/\).*/{
5698,5706c5716,5719
<     { echo "$as_me:$LINENO: cd "$am_dirpart" \
<       && sed -e '/# am--include-marker/d' "$am_filepart" \
<         | $MAKE -f - am--depfiles" >&5
<    (cd "$am_dirpart" \
<       && sed -e '/# am--include-marker/d' "$am_filepart" \
<         | $MAKE -f - am--depfiles) >&5 2>&5
<    ac_status=$?
<    echo "$as_me:$LINENO: \$? = $ac_status" >&5
<    (exit $ac_status); } || am_rc=$?
---
>       as_dir=$dirpart/$fdir; as_fn_mkdir_p
>       # echo "creating $dirpart/$file"
>       echo '# dummy' > "$dirpart/$file"
>     done
5708,5721d5720
<   if test $am_rc -ne 0; then
<     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
< $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
< as_fn_error $? "Something went wrong bootstrapping makefile fragments
<     for automatic dependency tracking.  Try re-running configure with the
<     '--disable-dependency-tracking' option to at least be able to build
<     the package (albeit without support for automatic dependency tracking).
< See \`config.log' for more details" "$LINENO" 5; }
<   fi
<   { am_dirpart=; unset am_dirpart;}
<   { am_filepart=; unset am_filepart;}
<   { am_mf=; unset am_mf;}
<   { am_rc=; unset am_rc;}
<   rm -f conftest-deps.mk
